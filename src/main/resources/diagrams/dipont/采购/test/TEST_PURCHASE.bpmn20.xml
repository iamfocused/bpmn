<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.activiti.org/pur">
  <process id="purchaseProcess" name="purchaseProcess" isExecutable="true" activiti:candidateStarterGroups="admin">
    <startEvent id="startevent1" name="Start" activiti:initiator="initiator">
      <extensionElements>
        <activiti:formProperty id="costcenter_成本中心 Costcenter_1_string_tree_$$A" name="成本中心 CostCenter" variable="puCostCenter" required="true"></activiti:formProperty>
        <activiti:formProperty id="costcenter_成本中心 Costcenter_2_string_auto_$$A" name="成本中心 CostCenter" variable="puCostCenter1" required="true"></activiti:formProperty>
        <activiti:formProperty id="claimby_实际报销人 Claim to_3_string_relation_$$A" name="实际报销人 Claim to" type="string" variable="claimby" required="true"></activiti:formProperty>
        <activiti:formProperty id="reportTo_汇报对象_4_string_psbi_$$A" name="汇报对象" type="string" variable="reportTo" required="true"></activiti:formProperty>
        <activiti:formProperty id="annualPerformance_年度绩效_5_string_cny_$$A" name="年度绩效" type="string" variable="annualPerformance" required="true"></activiti:formProperty>

        <activiti:formProperty id="tbhdpurchasepu001_item" name="采购明细 Details" type="string" variable="tbhdpurchasepu001_item" required="true"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu001_采购类别 Purchase Type_type_0_enum_sbs_$$VA" name="采购类别 Purchase Type" type="enum" variable="tbhdpurchasepu001_type_t00">
          <activiti:value id="固定资产 Fixed Assets" name="固定资产 Fixed Assets"></activiti:value>
          <activiti:value id="文具及生活用品 Stationery And Necessary" name="文具及生活用品 Stationery And Necessary"></activiti:value>
          <activiti:value id="低值耐耗品 Low Value Consumables" name="低值耐耗品 Low Value Consumables"></activiti:value>
          <activiti:value id="其他 Others" name="其他 Others"></activiti:value>
        </activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu001_采购项(其他) Purchase Item(other)_otherItem_1_string_t1_$$A" name="采购项(其他) Purchase Item(other)" type="string" variable="tbhdpurchasepu001_otherItem_t00"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu001_采购项(固定资产) Purchase Item(Fixed Assets)_assets_2_string_t1_$$A" name="采购项(固定资产) Purchase Item(Fixed Assets)" type="string" variable="tbhdpurchasepu001_assets_t00"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu001_采购项(文具及生活用品) Stationery And Necessary_stationeryItem_3_string_tree_$$A" name="采购项(文具及生活用品) Stationery And Necessary" type="string" variable="tbhdpurchasepu001_stationeryItem_t00"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu001_采购项(低值耐耗品) Low Value Consumables_consumablesItem_4_string_tree_$$A" name="采购项(低值耐耗品) Low Value Consumables" type="string" variable="tbhdpurchasepu001_consumablesItem_t00"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu001_计量单位 Unit Of Measurement_unit_5_string_t1_$$A" name="计量单位 Unit Of Measurement" type="string" variable="tbhdpurchasepu001_unit_t00"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu001_数量 Quantity_quantity_6_string_t6_$$A" name="数量 Quantity" type="string" variable="tbhdpurchasepu001_quantity_t00"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu001_单价 Unit Price_price_7_string_t11_$$A" name="单价 Unit Price" type="string" variable="tbhdpurchasepu001_price_t00"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu001_备注 Remarks_remarks_8_string_t2_$$A" name="备注 Remarks" type="string" variable="tbhdpurchasepu001_remarks_t00"></activiti:formProperty>
      </extensionElements>
    </startEvent>
    <userTask id="usertask1" name="固定资产查看" activiti:assignee="${initiator}">
      <extensionElements>
              <activiti:formProperty id="costcenter_成本中心 Costcenter_1_string_tree_$$A" name="成本中心 CostCenter" variable="puCostCenter" required="true"></activiti:formProperty>
                    <activiti:formProperty id="costcenter_成本中心 Costcenter_2_string_auto_$$A" name="成本中心 CostCenter" variable="puCostCenter1" required="true"></activiti:formProperty>
              <activiti:formProperty id="claimby_实际报销人 Claim to_3_string_relation_$$A" name="实际报销人 Claim to" type="string" variable="claimby" required="true"></activiti:formProperty>
              <activiti:formProperty id="reportTo_汇报对象_4_string_psbi_$$A" name="汇报对象" type="string" variable="reportTo" required="true"></activiti:formProperty>
              <activiti:formProperty id="annualPerformance_年度绩效_5_string_cny_$$A" name="年度绩效" type="string" variable="annualPerformance" required="true"></activiti:formProperty>
      
        <activiti:formProperty id="tbhdpurchasepu003_item" name="采购明细 Details" type="string" variable="tbhdpurchasepu003_item" required="true"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu003_采购类别 Purchase Type_type_0_enum_sbs_$$VA" name="采购类别 Purchase Type" type="string" variable="tbhdpurchasepu003_type_t00"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu003_采购项(固定资产) Purchase Item(Fixed Assets)_assets_2_string_t1_$$A" name="采购项(固定资产) Purchase Item(Fixed Assets)" type="string" variable="tbhdpurchasepu003_assets_t00"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu003_计量单位 Unit Of Measurement_unit_5_string_t1_$$A" name="计量单位 Unit Of Measurement" type="string" variable="tbhdpurchasepu003_unit_t00"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu003_数量 Quantity_quantity_6_string_t6_$$A" name="数量 Quantity" type="string" variable="tbhdpurchasepu003_quantity_t00"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu003_单价 Unit Price_price_7_string_t11_$$A" name="单价 Unit Price" type="string" variable="tbhdpurchasepu003_price_t00"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu003_备注 Remarks_remarks_8_string_t2_$$A" name="备注 Remarks" type="string" variable="tbhdpurchasepu003_remarks_t00"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu003_备注1 Remarks1_remarks1_9_string_t1_$$A" name="备注1 Remarks1" type="string" variable="tbhdpurchasepu003_remarks1_t00"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="flow1" sourceRef="startevent1" targetRef="scripttask1"></sequenceFlow>
    <scriptTask id="scripttask1" name="Script Task" scriptFormat="groovy" activiti:autoStoreVariables="false">
      <script>
	    
	    	import groovy.json.JsonSlurper
	    	import groovy.json.JsonOutput
	    	
	    	def jsonSlurper = new JsonSlurper()
	    	def std = jsonSlurper.parseText(execution.getVariable('tbhdpurchasepu001_item_std'))
	    	
	    	def types = std.groupBy{it.type}?.keySet()
	    	
	    	def type_asset = '固定资产 Fixed Assets'
	    	def type_stationery = '文具及生活用品 Stationery And Necessary'
	    	def type_consumables = '低值耐耗品 Low Value Consumables'
	    	def type_others='其他 Others'
	    	
	    	if(types.contains(type_asset)) {
	    		execution.setVariable('isAsset', 'Y')
	    	}else {
	    		execution.setVariable('isAsset', 'N')
	    	}
	    	
	    	if(types.contains(type_stationery)){
	    		execution.setVariable('isStationery', 'Y')
	    	}else {
	    		execution.setVariable('isStationery', 'N')
	    	}
	    	
	    	if(types.contains(type_consumables)) {
	    		execution.setVariable('isConsumables','Y')
	    	}else {
	    		execution.setVariable('isConsumables','N')
	    	}
	    	
	    	if(types.contains(type_others)){
	    		execution.setVariable('isOthers','Y')
	    	}else {
	    		execution.setVariable('isOthers','N')
	    	}
	    	
	    	for(int j=0; j&lt;4; j++) {
	    		def tbhdpurchasepu001_item = jsonSlurper.parseText(execution.getVariable('tbhdpurchasepu001_item'))
	    		if(j==0){
			    	tbhdpurchasepu001_item.each{item-&gt;
						if(item.key == 'rows') {
							item.value = item.value.findAll{i -&gt; i[0]==type_stationery}
						}
						//文具
						execution.setVariable('tbhdpurchasepu002_item',JsonOutput.toJson(tbhdpurchasepu001_item))
					}	
	    		}
	    		if(j==1){
	    			tbhdpurchasepu001_item.each{item-&gt;
						if(item.key == 'rows') {
							item.value = item.value.findAll{i -&gt; i[0]==type_asset}
						}
						if(item.key=='tableName'){
							item.value  = 'tbhdpurchasepu003'
						}
						if(item.key=='headers') {
							item.value.each{
								it.id = it.id?.replaceAll('001','003')
								//it.id = it.id?.replaceAll('Purchase Type_type_0_enum_sbs','Purchase Type_type_1_enum_sbs')
							}
						}
						//固定资产
						execution.setVariable('tbhdpurchasepu003_item',JsonOutput.toJson(tbhdpurchasepu001_item))
					}
	    		}
	    		if(j==2){
	    			tbhdpurchasepu001_item.each{item-&gt;
						if(item.key == 'rows') {
							item.value = item.value.findAll{i -&gt; i[0]==type_consumables}
						}
						if(item.key=='tableName'){
							item.value  = 'tbhdpurchasepu004'
						}
						if(item.key=='headers') {
							item.value.each{
								it.id = it.id?.replaceAll('001','004')
								it.id = it.id?.replaceAll('Purchase Type_type_0_enum_sbs','Purchase Type_type_1_enum_sbs')
							}
						}
						//低值耐耗品
						execution.setVariable('tbhdpurchasepu004_item',JsonOutput.toJson(tbhdpurchasepu001_item))
					}
	    		}
	    		if(j==3){
	    			tbhdpurchasepu001_item.each{item-&gt;
						if(item.key == 'rows') {
							item.value = item.value.findAll{i -&gt; i[0]==type_others}
						}
						//其他
						execution.setVariable('tbhdpurchasepu005_item',JsonOutput.toJson(tbhdpurchasepu001_item))
					}
	    		}
			 }   	
	    	
	    </script>
    </scriptTask>
    <userTask id="usertask2" name="文具查看" activiti:assignee="${initiator}">
      <extensionElements>
              <activiti:formProperty id="costcenter_成本中心 Costcenter_1_string_tree_$$A" name="成本中心 CostCenter" variable="puCostCenter" required="true"></activiti:formProperty>
                    <activiti:formProperty id="costcenter_成本中心 Costcenter_2_string_auto_$$A" name="成本中心 CostCenter" variable="puCostCenter1" required="true"></activiti:formProperty>
              <activiti:formProperty id="claimby_实际报销人 Claim to_3_string_relation_$$A" name="实际报销人 Claim to" type="string" variable="claimby" required="true"></activiti:formProperty>
              <activiti:formProperty id="reportTo_汇报对象_4_string_psbi_$$A" name="汇报对象" type="string" variable="reportTo" required="true"></activiti:formProperty>
              <activiti:formProperty id="annualPerformance_年度绩效_5_string_cny_$$A" name="年度绩效" type="string" variable="annualPerformance" required="true"></activiti:formProperty>
      
        <activiti:formProperty id="tbhdpurchasepu002_item" name="采购明细 Details" type="string" variable="tbhdpurchasepu002_item" required="true"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu002_采购类别 Purchase Type_type_1_enum_sbs_$$VA" name="采购类别 Purchase Type" type="enum" variable="tbhdpurchasepu001_type_t00">
          <activiti:value id="固定资产 Fixed Assets" name="固定资产 Fixed Assets"></activiti:value>
          <activiti:value id="文具及生活用品 Stationery And Necessary" name="文具及生活用品 Stationery And Necessary"></activiti:value>
          <activiti:value id="低值耐耗品 Low Value Consumables" name="低值耐耗品 Low Value Consumables"></activiti:value>
          <activiti:value id="其他 Others" name="其他 Others"></activiti:value>
        </activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu002_采购项(文具及生活用品) Stationery And Necessary_stationeryItem_3_string_tree_$$VA" name="采购项(文具及生活用品) Stationery And Necessary" type="string" variable="tbhdpurchasepu001_stationeryItem_t00"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu002_计量单位 Unit Of Measurement_unit_5_string_t1_$$VA" name="计量单位 Unit Of Measurement" type="string" variable="tbhdpurchasepu001_unit_t00"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu002_数量 Quantity_quantity_6_string_t6_$$VA" name="数量 Quantity" type="string" variable="tbhdpurchasepu001_quantity_t00"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu002_单价 Unit Price_price_7_string_t11_$$VA" name="单价 Unit Price" type="string" variable="tbhdpurchasepu001_price_t00"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu002_备注 Remarks_remarks_8_string_t2_$$A" name="备注 Remarks" type="string" variable="tbhdpurchasepu001_remarks_t00"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <userTask id="usertask3" name="低值耐耗品查看" activiti:assignee="${initiator}">
      <extensionElements>
              <activiti:formProperty id="costcenter_成本中心 Costcenter_1_string_tree_$$A" name="成本中心 CostCenter" variable="puCostCenter" required="true"></activiti:formProperty>
                    <activiti:formProperty id="costcenter_成本中心 Costcenter_2_string_auto_$$A" name="成本中心 CostCenter" variable="puCostCenter1" required="true"></activiti:formProperty>
              <activiti:formProperty id="claimby_实际报销人 Claim to_3_string_relation_$$A" name="实际报销人 Claim to" type="string" variable="claimby" required="true"></activiti:formProperty>
              <activiti:formProperty id="reportTo_汇报对象_4_string_psbi_$$A" name="汇报对象" type="string" variable="reportTo" required="true"></activiti:formProperty>
              <activiti:formProperty id="annualPerformance_年度绩效_5_string_cny_$$A" name="年度绩效" type="string" variable="annualPerformance" required="true"></activiti:formProperty>
      
        <activiti:formProperty id="tbhdpurchasepu004_item" name="采购明细 Details" type="string" variable="tbhdpurchasepu004_item" required="true"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu004_采购类别 Purchase Type_type_1_enum_sbs_$$VA" name="采购类别 Purchase Type" type="enum" variable="tbhdpurchasepu004_type_t00">
          <activiti:value id="固定资产 Fixed Assets" name="固定资产 Fixed Assets"></activiti:value>
          <activiti:value id="文具及生活用品 Stationery And Necessary" name="文具及生活用品 Stationery And Necessary"></activiti:value>
          <activiti:value id="低值耐耗品 Low Value Consumables" name="低值耐耗品 Low Value Consumables"></activiti:value>
          <activiti:value id="其他 Others" name="其他 Others"></activiti:value>
        </activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu004_采购项(低值耐耗品) Low Value Consumables_consumablesItem_4_string_tree_$$VA" name="采购项(低值耐耗品) Low Value Consumables" type="string" variable="tbhdpurchasepu004_consumablesItem_t00"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu004_计量单位 Unit Of Measurement_unit_5_string_t1_$$VA" name="计量单位 Unit Of Measurement" type="string" variable="tbhdpurchasepu004_unit_t00"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu004_数量 Quantity_quantity_6_string_t6_$$VA" name="数量 Quantity" type="string" variable="tbhdpurchasepu004_quantity_t00"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu004_单价 Unit Price_price_7_string_t11_$$VA" name="单价 Unit Price" type="string" variable="tbhdpurchasepu004_price_t00"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu004_备注 Remarks_remarks_8_string_t2_$$A" name="备注 Remarks" type="string" variable="tbhdpurchasepu004_remarks_t00"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <userTask id="usertask4" name="其他查看" activiti:assignee="${initiator}">
      <extensionElements>
              <activiti:formProperty id="costcenter_成本中心 Costcenter_1_string_tree_$$A" name="成本中心 CostCenter" variable="puCostCenter" required="true"></activiti:formProperty>
                    <activiti:formProperty id="costcenter_成本中心 Costcenter_2_string_auto_$$A" name="成本中心 CostCenter" variable="puCostCenter1" required="true"></activiti:formProperty>
              <activiti:formProperty id="claimby_实际报销人 Claim to_3_string_relation_$$A" name="实际报销人 Claim to" type="string" variable="claimby" required="true"></activiti:formProperty>
              <activiti:formProperty id="reportTo_汇报对象_4_string_psbi_$$A" name="汇报对象" type="string" variable="reportTo" required="true"></activiti:formProperty>
              <activiti:formProperty id="annualPerformance_年度绩效_5_string_cny_$$A" name="年度绩效" type="string" variable="annualPerformance" required="true"></activiti:formProperty>
      
        <activiti:formProperty id="tbhdpurchasepu005_采购类别 Purchase Type_type_0_enum_sbs_$$VA" name="采购类别 Purchase Type" type="enum" variable="tbhdpurchasepu005_type_t00">
          <activiti:value id="固定资产 Fixed Assets" name="固定资产 Fixed Assets"></activiti:value>
          <activiti:value id="文具及生活用品 Stationery And Necessary" name="文具及生活用品 Stationery And Necessary"></activiti:value>
          <activiti:value id="低值耐耗品 Low Value Consumables" name="低值耐耗品 Low Value Consumables"></activiti:value>
          <activiti:value id="其他 Others" name="其他 Others"></activiti:value>
        </activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu005_采购项(其他) Purchase Item(other)_otherItem_1_string_t1_$$A" name="采购项(其他) Purchase Item(other)" type="string" variable="tbhdpurchasepu005_otherItem_t00"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu005_计量单位 Unit Of Measurement_unit_5_string_t1_$$A" name="计量单位 Unit Of Measurement" type="string" variable="tbhdpurchasepu005_unit_t00"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu005_数量 Quantity_quantity_6_string_t6_$$A" name="数量 Quantity" type="string" variable="tbhdpurchasepu005_quantity_t00"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu005_单价 Unit Price_price_7_string_t11_$$A" name="单价 Unit Price" type="string" variable="tbhdpurchasepu005_price_t00"></activiti:formProperty>
        <activiti:formProperty id="tbhdpurchasepu005_备注 Remarks_remarks_8_string_t2_$$A" name="备注 Remarks" type="string" variable="tbhdpurchasepu005_remarks_t00"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <parallelGateway id="parallelgateway1" name="Parallel Gateway"></parallelGateway>
    <sequenceFlow id="flow11" sourceRef="scripttask1" targetRef="parallelgateway1"></sequenceFlow>
    <sequenceFlow id="flow13" sourceRef="parallelgateway1" targetRef="exclusivegateway2"></sequenceFlow>
    <sequenceFlow id="flow14" sourceRef="parallelgateway1" targetRef="exclusivegateway3"></sequenceFlow>
    <sequenceFlow id="flow15" sourceRef="parallelgateway1" targetRef="exclusivegateway4"></sequenceFlow>
    <parallelGateway id="parallelgateway3" name="Parallel Gateway"></parallelGateway>
    <sequenceFlow id="flow17" sourceRef="usertask4" targetRef="exclusivegateway5"></sequenceFlow>
    <exclusiveGateway id="exclusivegateway1" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow20" sourceRef="parallelgateway1" targetRef="exclusivegateway1"></sequenceFlow>
    <sequenceFlow id="flow21" name="有其他采购" sourceRef="exclusivegateway1" targetRef="usertask4">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${execution.getVariable('isOthers') == 'Y'}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow22" name="无其他采购" sourceRef="exclusivegateway1" targetRef="exclusivegateway5">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${execution.getVariable('isOthers') == 'N'}]]></conditionExpression>
    </sequenceFlow>
    <exclusiveGateway id="exclusivegateway2" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow23" name="有固定资产采购" sourceRef="exclusivegateway2" targetRef="usertask1">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${execution.getVariable('isAsset') == 'Y'}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow24" name="无固定资产采购" sourceRef="exclusivegateway2" targetRef="exclusivegateway8">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${execution.getVariable('isAsset') == 'N'}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow25" sourceRef="usertask1" targetRef="exclusivegateway8"></sequenceFlow>
    <exclusiveGateway id="exclusivegateway3" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow26" name="有文具采购" sourceRef="exclusivegateway3" targetRef="usertask2">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${execution.getVariable('isStationery') == 'Y'}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow27" name="无文具采购" sourceRef="exclusivegateway3" targetRef="exclusivegateway6">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${execution.getVariable('isStationery') == 'N'}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow28" sourceRef="usertask2" targetRef="exclusivegateway6"></sequenceFlow>
    <exclusiveGateway id="exclusivegateway4" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow29" name="无低值耐耗品采购" sourceRef="exclusivegateway4" targetRef="exclusivegateway7">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${execution.getVariable('isConsumables') == 'N'}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow30" name="有低值耐耗品采购" sourceRef="exclusivegateway4" targetRef="usertask3">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${execution.getVariable('isConsumables') == 'Y'}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow31" sourceRef="usertask3" targetRef="exclusivegateway7"></sequenceFlow>
    <endEvent id="endevent1" name="End"></endEvent>
    <sequenceFlow id="flow32" sourceRef="parallelgateway3" targetRef="endevent1"></sequenceFlow>
    <exclusiveGateway id="exclusivegateway5" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow33" sourceRef="exclusivegateway5" targetRef="parallelgateway3"></sequenceFlow>
    <sequenceFlow id="flow34" sourceRef="exclusivegateway8" targetRef="parallelgateway3"></sequenceFlow>
    <exclusiveGateway id="exclusivegateway6" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow35" sourceRef="exclusivegateway6" targetRef="parallelgateway3"></sequenceFlow>
    <exclusiveGateway id="exclusivegateway7" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow36" sourceRef="exclusivegateway7" targetRef="parallelgateway3"></sequenceFlow>
    <exclusiveGateway id="exclusivegateway8" name="Exclusive Gateway"></exclusiveGateway>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_purchaseProcess">
    <bpmndi:BPMNPlane bpmnElement="purchaseProcess" id="BPMNPlane_purchaseProcess">
      <bpmndi:BPMNShape bpmnElement="startevent1" id="BPMNShape_startevent1">
        <omgdc:Bounds height="35.0" width="35.0" x="10.0" y="190.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask1" id="BPMNShape_usertask1">
        <omgdc:Bounds height="55.0" width="105.0" x="490.0" y="180.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="scripttask1" id="BPMNShape_scripttask1">
        <omgdc:Bounds height="55.0" width="105.0" x="100.0" y="180.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask2" id="BPMNShape_usertask2">
        <omgdc:Bounds height="55.0" width="105.0" x="500.0" y="300.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask3" id="BPMNShape_usertask3">
        <omgdc:Bounds height="55.0" width="105.0" x="500.0" y="410.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask4" id="BPMNShape_usertask4">
        <omgdc:Bounds height="55.0" width="105.0" x="480.0" y="60.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="parallelgateway1" id="BPMNShape_parallelgateway1">
        <omgdc:Bounds height="40.0" width="40.0" x="260.0" y="187.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="parallelgateway3" id="BPMNShape_parallelgateway3">
        <omgdc:Bounds height="40.0" width="40.0" x="740.0" y="190.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway1" id="BPMNShape_exclusivegateway1">
        <omgdc:Bounds height="40.0" width="40.0" x="320.0" y="67.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway2" id="BPMNShape_exclusivegateway2">
        <omgdc:Bounds height="40.0" width="40.0" x="360.0" y="187.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway3" id="BPMNShape_exclusivegateway3">
        <omgdc:Bounds height="40.0" width="40.0" x="360.0" y="307.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway4" id="BPMNShape_exclusivegateway4">
        <omgdc:Bounds height="40.0" width="40.0" x="370.0" y="417.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endevent1" id="BPMNShape_endevent1">
        <omgdc:Bounds height="35.0" width="35.0" x="825.0" y="193.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway5" id="BPMNShape_exclusivegateway5">
        <omgdc:Bounds height="40.0" width="40.0" x="680.0" y="0.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway6" id="BPMNShape_exclusivegateway6">
        <omgdc:Bounds height="40.0" width="40.0" x="661.0" y="250.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway7" id="BPMNShape_exclusivegateway7">
        <omgdc:Bounds height="40.0" width="40.0" x="641.0" y="370.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway8" id="BPMNShape_exclusivegateway8">
        <omgdc:Bounds height="40.0" width="40.0" x="605.0" y="130.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="flow1" id="BPMNEdge_flow1">
        <omgdi:waypoint x="45.0" y="207.0"></omgdi:waypoint>
        <omgdi:waypoint x="100.0" y="207.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow11" id="BPMNEdge_flow11">
        <omgdi:waypoint x="205.0" y="207.0"></omgdi:waypoint>
        <omgdi:waypoint x="260.0" y="207.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow13" id="BPMNEdge_flow13">
        <omgdi:waypoint x="300.0" y="207.0"></omgdi:waypoint>
        <omgdi:waypoint x="360.0" y="207.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow14" id="BPMNEdge_flow14">
        <omgdi:waypoint x="280.0" y="227.0"></omgdi:waypoint>
        <omgdi:waypoint x="280.0" y="327.0"></omgdi:waypoint>
        <omgdi:waypoint x="360.0" y="327.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow15" id="BPMNEdge_flow15">
        <omgdi:waypoint x="280.0" y="227.0"></omgdi:waypoint>
        <omgdi:waypoint x="280.0" y="437.0"></omgdi:waypoint>
        <omgdi:waypoint x="370.0" y="437.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow17" id="BPMNEdge_flow17">
        <omgdi:waypoint x="585.0" y="87.0"></omgdi:waypoint>
        <omgdi:waypoint x="699.0" y="87.0"></omgdi:waypoint>
        <omgdi:waypoint x="700.0" y="40.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow20" id="BPMNEdge_flow20">
        <omgdi:waypoint x="280.0" y="187.0"></omgdi:waypoint>
        <omgdi:waypoint x="279.0" y="87.0"></omgdi:waypoint>
        <omgdi:waypoint x="320.0" y="87.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow21" id="BPMNEdge_flow21">
        <omgdi:waypoint x="360.0" y="87.0"></omgdi:waypoint>
        <omgdi:waypoint x="480.0" y="87.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="16.0" width="55.0" x="380.0" y="87.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow22" id="BPMNEdge_flow22">
        <omgdi:waypoint x="340.0" y="67.0"></omgdi:waypoint>
        <omgdi:waypoint x="340.0" y="19.0"></omgdi:waypoint>
        <omgdi:waypoint x="680.0" y="20.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="16.0" width="55.0" x="470.0" y="1.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow23" id="BPMNEdge_flow23">
        <omgdi:waypoint x="400.0" y="207.0"></omgdi:waypoint>
        <omgdi:waypoint x="490.0" y="207.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="16.0" width="77.0" x="400.0" y="207.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow24" id="BPMNEdge_flow24">
        <omgdi:waypoint x="380.0" y="187.0"></omgdi:waypoint>
        <omgdi:waypoint x="380.0" y="153.0"></omgdi:waypoint>
        <omgdi:waypoint x="605.0" y="150.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="16.0" width="77.0" x="460.0" y="131.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow25" id="BPMNEdge_flow25">
        <omgdi:waypoint x="595.0" y="207.0"></omgdi:waypoint>
        <omgdi:waypoint x="629.0" y="206.0"></omgdi:waypoint>
        <omgdi:waypoint x="625.0" y="170.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow26" id="BPMNEdge_flow26">
        <omgdi:waypoint x="400.0" y="327.0"></omgdi:waypoint>
        <omgdi:waypoint x="500.0" y="327.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="16.0" width="55.0" x="400.0" y="327.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow27" id="BPMNEdge_flow27">
        <omgdi:waypoint x="380.0" y="307.0"></omgdi:waypoint>
        <omgdi:waypoint x="380.0" y="268.0"></omgdi:waypoint>
        <omgdi:waypoint x="654.0" y="268.0"></omgdi:waypoint>
        <omgdi:waypoint x="661.0" y="270.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="16.0" width="55.0" x="430.0" y="251.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow28" id="BPMNEdge_flow28">
        <omgdi:waypoint x="605.0" y="327.0"></omgdi:waypoint>
        <omgdi:waypoint x="681.0" y="327.0"></omgdi:waypoint>
        <omgdi:waypoint x="681.0" y="290.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow29" id="BPMNEdge_flow29">
        <omgdi:waypoint x="390.0" y="417.0"></omgdi:waypoint>
        <omgdi:waypoint x="390.0" y="382.0"></omgdi:waypoint>
        <omgdi:waypoint x="641.0" y="390.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="16.0" width="88.0" x="430.0" y="371.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow30" id="BPMNEdge_flow30">
        <omgdi:waypoint x="410.0" y="437.0"></omgdi:waypoint>
        <omgdi:waypoint x="500.0" y="437.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="16.0" width="88.0" x="410.0" y="437.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow31" id="BPMNEdge_flow31">
        <omgdi:waypoint x="605.0" y="437.0"></omgdi:waypoint>
        <omgdi:waypoint x="661.0" y="437.0"></omgdi:waypoint>
        <omgdi:waypoint x="661.0" y="410.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow32" id="BPMNEdge_flow32">
        <omgdi:waypoint x="780.0" y="210.0"></omgdi:waypoint>
        <omgdi:waypoint x="825.0" y="210.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow33" id="BPMNEdge_flow33">
        <omgdi:waypoint x="720.0" y="20.0"></omgdi:waypoint>
        <omgdi:waypoint x="760.0" y="20.0"></omgdi:waypoint>
        <omgdi:waypoint x="760.0" y="190.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow34" id="BPMNEdge_flow34">
        <omgdi:waypoint x="645.0" y="150.0"></omgdi:waypoint>
        <omgdi:waypoint x="760.0" y="150.0"></omgdi:waypoint>
        <omgdi:waypoint x="760.0" y="190.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow35" id="BPMNEdge_flow35">
        <omgdi:waypoint x="701.0" y="270.0"></omgdi:waypoint>
        <omgdi:waypoint x="760.0" y="270.0"></omgdi:waypoint>
        <omgdi:waypoint x="760.0" y="230.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow36" id="BPMNEdge_flow36">
        <omgdi:waypoint x="681.0" y="390.0"></omgdi:waypoint>
        <omgdi:waypoint x="760.0" y="390.0"></omgdi:waypoint>
        <omgdi:waypoint x="760.0" y="230.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>